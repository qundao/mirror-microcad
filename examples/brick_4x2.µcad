use std::geo2d::*;
use std::ops::*;
use std::math::*;

const SPACING = 8mm;

rows = 2;
columns = 4;
width = columns * SPACING - 0.2mm;
height = rows * SPACING - 0.2mm;
thickness = 1.2mm;
base_height = 9.6mm;

base = {
    r = rows - 1;
    c = columns - 1;
    Frame(width, height, thickness);
    (r*c*Ring(outer_d = 6.51mm, inner_d = 4.8mm))
        .distribute_grid(width = width - width / columns, height - height / rows, rows = r, columns = c);
    }
    .extrude(base_height - thickness);

knobs = (rows*columns*Circle(d = 4.8mm))
    .distribute_grid(width, height, rows, columns)
    .extrude(1.7mm);

cap = Rect(width, height).extrude(thickness);

#[color = std::color::RED]
{ base; cap; knobs; }.align(Z).union();
