-- Test --
        Test name: first_version
  Expected result: ok
           Params: hires
      Source file: ../books/tutorials/src/lego_brick/part/first.md:11
        Test path: ../books/tutorials/src/lego_brick/part/.test

-- Code --

  11:   use std::ops::*;
  12:   use std::geo2d::*;
  13:   
  14:   const SPACING = 8mm;
  15:   
  16:   sketch Base(width: Length, height: Length) {
  17:       thickness = 1.2mm;
  18:       frame = Frame(width, height, thickness);
  19:       struts = Ring(outer_d = 6.51mm, inner_d = 4.8mm)
  20:           .translate(y = [0..2] * SPACING)
  21:           .center();
  22:       frame | struts;
  23:   }
  24:   
  25:   use Rect as Cap;
  26:   
  27:   sketch Knobs() {
  28:       center = (x = [0..1] * SPACING, y = [0..3] * SPACING);
  29:       Circle(diameter = 4.8mm, center).center();
  30:   }
  31:   
  32:   part LegoBrick(base_height = 9.6mm) {
  33:       width = 15.8mm;
  34:       height = 31.8mm;
  35:       top_thickness = 1.0mm;
  36:   
  37:       base = Base(width, height)
  38:           .extrude(base_height);
  39:   
  40:       cap = Cap(width, height)
  41:           .extrude(top_thickness)
  42:           .translate(z = base_height - top_thickness);
  43:   
  44:       knobs = Knobs()
  45:           .extrude(1.7mm)
  46:           .translate(z = base_height);
  47:   
  48:       // Combine all components
  49:       base | cap | knobs;
  50:   }
  51:   
  52:   LegoBrick();

-- Test Result --
OK
