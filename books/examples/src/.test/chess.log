
-- Test --
        Test name: chess
  Expected result: ok
      Source file: ../books/examples/src/chess.md:6
        Test path: ../books/examples/src/.test

-- Code --

   6:   // Copyright © 2025-2026 The µcad authors <info@microcad.xyz>
   7:   // SPDX-License-Identifier: AGPL-3.0-or-later
   8:   
   9:   
  10:   use std::geo2d::*;
  11:   use std::geo3d::*;
  12:   use std::ops::*;
  13:   use std::math::*;
  14:   
  15:   // https://de.wikipedia.org/wiki/Bauhaus-Schachspiel
  16:   
  17:   pub TILE_SIZE = 5.8cm;
  18:   const BASE_SIZE = TILE_SIZE * 70%;
  19:   
  20:   
  21:   pub part Pawn() {
  22:       Cube(BASE_SIZE * 80%)
  23:   }
  24:   
  25:   pub part King() {
  26:       { 
  27:           Cube(BASE_SIZE);
  28:           Cube(BASE_SIZE / sqrt(2)).rotate(45°);
  29:       }.align(Z)
  30:   }
  31:   
  32:   pub part Queen() {
  33:       { 
  34:           Cube(BASE_SIZE);
  35:           Sphere(diameter = BASE_SIZE / sqrt(2));
  36:       }.align(Z)
  37:   }
  38:   
  39:   pub part Bishop() {
  40:       size = BASE_SIZE / 3;
  41:       Rect(size * 90%)
  42:           .translate(size * 150%, [45,-135]°)
  43:           .hull()
  44:           .mirror(X)
  45:           .union()
  46:           .extrude(BASE_SIZE)
  47:           .rotate(x = 90°)
  48:           .center()
  49:   }
  50:   
  51:   pub part Rook() {
  52:       Cube(BASE_SIZE)
  53:   }
  54:   
  55:   pub part Knight() {
  56:       {
  57:           height = BASE_SIZE/2;
  58:           r = Rect(BASE_SIZE);
  59:           (r - r.translate(x = height, y = height)).extrude(height);
  60:       }.rotate([0,90]°).align(Z)
  61:   }
  62:   
  63:   
  64:   {
  65:       Rook();
  66:       Knight();
  67:       Bishop();
  68:       Queen();
  69:       King();
  70:       Bishop();
  71:       Knight().rotate(x = 180°).rotate(90°);
  72:       Rook();
  73:       8 * Pawn();
  74:   }
  75:   .distribute_grid(cell_size = TILE_SIZE, rows = 2, columns = 8)
  76:   .translate(y = TILE_SIZE * 3)
  77:   .rotate([0, 180]°);
  78:   
  79:   board_height = 1mm;
  80:   Rect(TILE_SIZE * 8).extrude(board_height).translate(z = -board_height);
  81:   

-- No Output --
-- No Errors --
-- Model --
  Group (root) ->
    Multiplicity ->
      Workpiece(op) std::ops::rotate(angle=0rad, axis=(x=0, y=0, z=1)) ->
        - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
        Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
          Workpiece(op) std::ops::translate(x=0mm, y=174mm, z=0mm) ->
            - x = 0mm
            - y = 174mm
            - z = 0mm
            Transform __builtin::ops::translate(x=0mm, y=174mm, z=0mm) ->
              Workpiece(op) std::ops::distribute_grid(cell_size=58mm, columns=8, rows=2) ->
                - columns = 8
                - height = 116mm
                - rows = 2
                - width = 464mm
                - x = -232mm
                - y = -58mm
                Operation __builtin::ops::distribute_grid(columns=8, height=116mm, rows=2, width=464mm, x=-232mm, y=-58mm) ->
                  Group ->
                    Workpiece(part) chess::Rook() ->
                      Workpiece(part) std::geo3d::Cube(size=40.6mm) ->
                        - size_x = 40.6mm
                        - size_y = 40.6mm
                        - size_z = 40.6mm
                        Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                          - x = 0mm
                          - y = 0mm
                          - z = -20.3mm
                          Transform __builtin::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                            Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                              - height = 40.6mm
                              - scale = (x=1, y=1)
                              - twist = 0rad
                              Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                Workpiece(sketch) std::geo2d::Rect(height=40.6mm, width=40.6mm) ->
                                  - height = 40.6mm
                                  - width = 40.6mm
                                  - x = -20.3mm
                                  - y = -20.3mm
                                  Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                    Workpiece(part) chess::Knight() ->
                      Workpiece(op) std::ops::align(direction=(x=0, y=0, z=1), spacing=0mm) ->
                        - direction = (x=0, y=0, z=1)
                        - spacing = 0mm
                        Operation __builtin::ops::align(spacing=0mm, x=0, y=0, z=1) ->
                          Multiplicity ->
                            Workpiece(op) std::ops::rotate(angle=0rad, axis=(x=0, y=0, z=1)) ->
                              - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
                              Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                                Group ->
                                  Workpiece(op) std::ops::extrude(height=20.3mm, scale=(x=1, y=1), twist=0rad) ->
                                    - height = 20.3mm
                                    - scale = (x=1, y=1)
                                    - twist = 0rad
                                    Operation __builtin::ops::extrude(height=20.3mm, scale_x=1, scale_y=1, twist=0rad) ->
                                      Operation subtract() ->
                                        Group ->
                                          r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                            - height = 40.6mm
                                            - width = 40.6mm
                                            - x = -20.3mm
                                            - y = -20.3mm
                                            Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                          Workpiece(op) std::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                            - x = 20.3mm
                                            - y = 20.3mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                              r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                - height = 40.6mm
                                                - width = 40.6mm
                                                - x = -20.3mm
                                                - y = -20.3mm
                                                Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                            Workpiece(op) std::ops::rotate(angle=1.5707963267949rad, axis=(x=0, y=0, z=1)) ->
                              - matrix = Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]
                              Transform __builtin::ops::rotate(matrix=Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]) ->
                                Group ->
                                  Workpiece(op) std::ops::extrude(height=20.3mm, scale=(x=1, y=1), twist=0rad) ->
                                    - height = 20.3mm
                                    - scale = (x=1, y=1)
                                    - twist = 0rad
                                    Operation __builtin::ops::extrude(height=20.3mm, scale_x=1, scale_y=1, twist=0rad) ->
                                      Operation subtract() ->
                                        Group ->
                                          r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                            - height = 40.6mm
                                            - width = 40.6mm
                                            - x = -20.3mm
                                            - y = -20.3mm
                                            Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                          Workpiece(op) std::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                            - x = 20.3mm
                                            - y = 20.3mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                              r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                - height = 40.6mm
                                                - width = 40.6mm
                                                - x = -20.3mm
                                                - y = -20.3mm
                                                Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                    Workpiece(part) chess::Bishop() ->
                      Operation __builtin::ops::center() ->
                        Workpiece(op) std::ops::rotate(x=1.5707963267949rad, y=0rad, z=0rad) ->
                          - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]
                          Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]) ->
                            Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                              - height = 40.6mm
                              - scale = (x=1, y=1)
                              - twist = 0rad
                              Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                Operation __builtin::ops::union() ->
                                  Workpiece(op) std::ops::mirror(n=(x=1, y=0, z=0), x=0mm, y=0mm, z=0mm) ->
                                    - n = (x=1, y=0, z=0)
                                    - x = 0mm
                                    - y = 0mm
                                    - z = 0mm
                                    Operation __builtin::ops::mirror(nx=1, ny=0, nz=0, x=0mm, y=0mm, z=0mm) ->
                                      Operation __builtin::ops::hull() ->
                                        Multiplicity ->
                                          Workpiece(op) std::ops::translate(angle=0.78539816339745rad, distance=20.3mm) ->
                                            - x = 14.35426765808692mm
                                            - y = 14.35426765808692mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=14.35426765808692mm, y=14.35426765808692mm, z=0mm) ->
                                              Workpiece(sketch) std::geo2d::Rect(size=12.18mm) ->
                                                - height = 12.18mm
                                                - width = 12.18mm
                                                - x = -6.09mm
                                                - y = -6.09mm
                                                Primitive2D __builtin::geo2d::Rect(height=12.18mm, width=12.18mm, x=-6.09mm, y=-6.09mm) ->
                                          Workpiece(op) std::ops::translate(angle=-2.35619449019234rad, distance=20.3mm) ->
                                            - x = -14.35426765808692mm
                                            - y = -14.35426765808692mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=-14.35426765808692mm, y=-14.35426765808692mm, z=0mm) ->
                                              Workpiece(sketch) std::geo2d::Rect(size=12.18mm) ->
                                                - height = 12.18mm
                                                - width = 12.18mm
                                                - x = -6.09mm
                                                - y = -6.09mm
                                                Primitive2D __builtin::geo2d::Rect(height=12.18mm, width=12.18mm, x=-6.09mm, y=-6.09mm) ->
                    Workpiece(part) chess::Queen() ->
                      Workpiece(op) std::ops::align(direction=(x=0, y=0, z=1), spacing=0mm) ->
                        - direction = (x=0, y=0, z=1)
                        - spacing = 0mm
                        Operation __builtin::ops::align(spacing=0mm, x=0, y=0, z=1) ->
                          Group ->
                            Workpiece(part) std::geo3d::Cube(size=40.6mm) ->
                              - size_x = 40.6mm
                              - size_y = 40.6mm
                              - size_z = 40.6mm
                              Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                                - x = 0mm
                                - y = 0mm
                                - z = -20.3mm
                                Transform __builtin::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                                  Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                                    - height = 40.6mm
                                    - scale = (x=1, y=1)
                                    - twist = 0rad
                                    Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                      Workpiece(sketch) std::geo2d::Rect(height=40.6mm, width=40.6mm) ->
                                        - height = 40.6mm
                                        - width = 40.6mm
                                        - x = -20.3mm
                                        - y = -20.3mm
                                        Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                            Workpiece(part) std::geo3d::Sphere(diameter=28.70853531617383mm) ->
                              - radius = 14.35426765808692mm
                              Primitive3D __builtin::geo3d::Sphere(radius=14.35426765808692mm) ->
                    Workpiece(part) chess::King() ->
                      Workpiece(op) std::ops::align(direction=(x=0, y=0, z=1), spacing=0mm) ->
                        - direction = (x=0, y=0, z=1)
                        - spacing = 0mm
                        Operation __builtin::ops::align(spacing=0mm, x=0, y=0, z=1) ->
                          Group ->
                            Workpiece(part) std::geo3d::Cube(size=40.6mm) ->
                              - size_x = 40.6mm
                              - size_y = 40.6mm
                              - size_z = 40.6mm
                              Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                                - x = 0mm
                                - y = 0mm
                                - z = -20.3mm
                                Transform __builtin::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                                  Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                                    - height = 40.6mm
                                    - scale = (x=1, y=1)
                                    - twist = 0rad
                                    Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                      Workpiece(sketch) std::geo2d::Rect(height=40.6mm, width=40.6mm) ->
                                        - height = 40.6mm
                                        - width = 40.6mm
                                        - x = -20.3mm
                                        - y = -20.3mm
                                        Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                            Workpiece(op) std::ops::rotate(angle=0.78539816339745rad, axis=(x=0, y=0, z=1)) ->
                              - matrix = Matrix3 [[0.7071067811865476, 0.7071067811865475, 0.0], [-0.7071067811865475, 0.7071067811865476, 0.0], [0.0, 0.0, 1.0]]
                              Transform __builtin::ops::rotate(matrix=Matrix3 [[0.7071067811865476, 0.7071067811865475, 0.0], [-0.7071067811865475, 0.7071067811865476, 0.0], [0.0, 0.0, 1.0]]) ->
                                Workpiece(part) std::geo3d::Cube(size=28.70853531617383mm) ->
                                  - size_x = 28.70853531617383mm
                                  - size_y = 28.70853531617383mm
                                  - size_z = 28.70853531617383mm
                                  Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-14.35426765808692mm) ->
                                    - x = 0mm
                                    - y = 0mm
                                    - z = -14.35426765808692mm
                                    Transform __builtin::ops::translate(x=0mm, y=0mm, z=-14.35426765808692mm) ->
                                      Workpiece(op) std::ops::extrude(height=28.70853531617383mm, scale=(x=1, y=1), twist=0rad) ->
                                        - height = 28.70853531617383mm
                                        - scale = (x=1, y=1)
                                        - twist = 0rad
                                        Operation __builtin::ops::extrude(height=28.70853531617383mm, scale_x=1, scale_y=1, twist=0rad) ->
                                          Workpiece(sketch) std::geo2d::Rect(height=28.70853531617383mm, width=28.70853531617383mm) ->
                                            - height = 28.70853531617383mm
                                            - width = 28.70853531617383mm
                                            - x = -14.35426765808692mm
                                            - y = -14.35426765808692mm
                                            Primitive2D __builtin::geo2d::Rect(height=28.70853531617383mm, width=28.70853531617383mm, x=-14.35426765808692mm, y=-14.35426765808692mm) ->
                    Workpiece(part) chess::Bishop() ->
                      Operation __builtin::ops::center() ->
                        Workpiece(op) std::ops::rotate(x=1.5707963267949rad, y=0rad, z=0rad) ->
                          - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]
                          Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]) ->
                            Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                              - height = 40.6mm
                              - scale = (x=1, y=1)
                              - twist = 0rad
                              Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                Operation __builtin::ops::union() ->
                                  Workpiece(op) std::ops::mirror(n=(x=1, y=0, z=0), x=0mm, y=0mm, z=0mm) ->
                                    - n = (x=1, y=0, z=0)
                                    - x = 0mm
                                    - y = 0mm
                                    - z = 0mm
                                    Operation __builtin::ops::mirror(nx=1, ny=0, nz=0, x=0mm, y=0mm, z=0mm) ->
                                      Operation __builtin::ops::hull() ->
                                        Multiplicity ->
                                          Workpiece(op) std::ops::translate(angle=0.78539816339745rad, distance=20.3mm) ->
                                            - x = 14.35426765808692mm
                                            - y = 14.35426765808692mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=14.35426765808692mm, y=14.35426765808692mm, z=0mm) ->
                                              Workpiece(sketch) std::geo2d::Rect(size=12.18mm) ->
                                                - height = 12.18mm
                                                - width = 12.18mm
                                                - x = -6.09mm
                                                - y = -6.09mm
                                                Primitive2D __builtin::geo2d::Rect(height=12.18mm, width=12.18mm, x=-6.09mm, y=-6.09mm) ->
                                          Workpiece(op) std::ops::translate(angle=-2.35619449019234rad, distance=20.3mm) ->
                                            - x = -14.35426765808692mm
                                            - y = -14.35426765808692mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=-14.35426765808692mm, y=-14.35426765808692mm, z=0mm) ->
                                              Workpiece(sketch) std::geo2d::Rect(size=12.18mm) ->
                                                - height = 12.18mm
                                                - width = 12.18mm
                                                - x = -6.09mm
                                                - y = -6.09mm
                                                Primitive2D __builtin::geo2d::Rect(height=12.18mm, width=12.18mm, x=-6.09mm, y=-6.09mm) ->
                    Workpiece(op) std::ops::rotate(angle=1.5707963267949rad, axis=(x=0, y=0, z=1)) ->
                      - matrix = Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]
                      Transform __builtin::ops::rotate(matrix=Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]) ->
                        Workpiece(op) std::ops::rotate(x=3.14159265358979rad, y=0rad, z=0rad) ->
                          - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, 1.2246467991473532e-16], [0.0, -1.2246467991473532e-16, -1.0]]
                          Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, 1.2246467991473532e-16], [0.0, -1.2246467991473532e-16, -1.0]]) ->
                            Workpiece(part) chess::Knight() ->
                              Workpiece(op) std::ops::align(direction=(x=0, y=0, z=1), spacing=0mm) ->
                                - direction = (x=0, y=0, z=1)
                                - spacing = 0mm
                                Operation __builtin::ops::align(spacing=0mm, x=0, y=0, z=1) ->
                                  Multiplicity ->
                                    Workpiece(op) std::ops::rotate(angle=0rad, axis=(x=0, y=0, z=1)) ->
                                      - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
                                      Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                                        Group ->
                                          Workpiece(op) std::ops::extrude(height=20.3mm, scale=(x=1, y=1), twist=0rad) ->
                                            - height = 20.3mm
                                            - scale = (x=1, y=1)
                                            - twist = 0rad
                                            Operation __builtin::ops::extrude(height=20.3mm, scale_x=1, scale_y=1, twist=0rad) ->
                                              Operation subtract() ->
                                                Group ->
                                                  r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                    - height = 40.6mm
                                                    - width = 40.6mm
                                                    - x = -20.3mm
                                                    - y = -20.3mm
                                                    Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                                  Workpiece(op) std::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                                    - x = 20.3mm
                                                    - y = 20.3mm
                                                    - z = 0mm
                                                    Transform __builtin::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                                      r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                        - height = 40.6mm
                                                        - width = 40.6mm
                                                        - x = -20.3mm
                                                        - y = -20.3mm
                                                        Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                    Workpiece(op) std::ops::rotate(angle=1.5707963267949rad, axis=(x=0, y=0, z=1)) ->
                                      - matrix = Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]
                                      Transform __builtin::ops::rotate(matrix=Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]) ->
                                        Group ->
                                          Workpiece(op) std::ops::extrude(height=20.3mm, scale=(x=1, y=1), twist=0rad) ->
                                            - height = 20.3mm
                                            - scale = (x=1, y=1)
                                            - twist = 0rad
                                            Operation __builtin::ops::extrude(height=20.3mm, scale_x=1, scale_y=1, twist=0rad) ->
                                              Operation subtract() ->
                                                Group ->
                                                  r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                    - height = 40.6mm
                                                    - width = 40.6mm
                                                    - x = -20.3mm
                                                    - y = -20.3mm
                                                    Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                                  Workpiece(op) std::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                                    - x = 20.3mm
                                                    - y = 20.3mm
                                                    - z = 0mm
                                                    Transform __builtin::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                                      r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                        - height = 40.6mm
                                                        - width = 40.6mm
                                                        - x = -20.3mm
                                                        - y = -20.3mm
                                                        Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                    Workpiece(part) chess::Rook() ->
                      Workpiece(part) std::geo3d::Cube(size=40.6mm) ->
                        - size_x = 40.6mm
                        - size_y = 40.6mm
                        - size_z = 40.6mm
                        Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                          - x = 0mm
                          - y = 0mm
                          - z = -20.3mm
                          Transform __builtin::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                            Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                              - height = 40.6mm
                              - scale = (x=1, y=1)
                              - twist = 0rad
                              Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                Workpiece(sketch) std::geo2d::Rect(height=40.6mm, width=40.6mm) ->
                                  - height = 40.6mm
                                  - width = 40.6mm
                                  - x = -20.3mm
                                  - y = -20.3mm
                                  Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                    Multiplicity ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
      Workpiece(op) std::ops::rotate(angle=3.14159265358979rad, axis=(x=0, y=0, z=1)) ->
        - matrix = Matrix3 [[-1.0, 1.2246467991473532e-16, 0.0], [-1.2246467991473532e-16, -1.0, 0.0], [0.0, 0.0, 1.0]]
        Transform __builtin::ops::rotate(matrix=Matrix3 [[-1.0, 1.2246467991473532e-16, 0.0], [-1.2246467991473532e-16, -1.0, 0.0], [0.0, 0.0, 1.0]]) ->
          Workpiece(op) std::ops::translate(x=0mm, y=174mm, z=0mm) ->
            - x = 0mm
            - y = 174mm
            - z = 0mm
            Transform __builtin::ops::translate(x=0mm, y=174mm, z=0mm) ->
              Workpiece(op) std::ops::distribute_grid(cell_size=58mm, columns=8, rows=2) ->
                - columns = 8
                - height = 116mm
                - rows = 2
                - width = 464mm
                - x = -232mm
                - y = -58mm
                Operation __builtin::ops::distribute_grid(columns=8, height=116mm, rows=2, width=464mm, x=-232mm, y=-58mm) ->
                  Group ->
                    Workpiece(part) chess::Rook() ->
                      Workpiece(part) std::geo3d::Cube(size=40.6mm) ->
                        - size_x = 40.6mm
                        - size_y = 40.6mm
                        - size_z = 40.6mm
                        Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                          - x = 0mm
                          - y = 0mm
                          - z = -20.3mm
                          Transform __builtin::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                            Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                              - height = 40.6mm
                              - scale = (x=1, y=1)
                              - twist = 0rad
                              Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                Workpiece(sketch) std::geo2d::Rect(height=40.6mm, width=40.6mm) ->
                                  - height = 40.6mm
                                  - width = 40.6mm
                                  - x = -20.3mm
                                  - y = -20.3mm
                                  Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                    Workpiece(part) chess::Knight() ->
                      Workpiece(op) std::ops::align(direction=(x=0, y=0, z=1), spacing=0mm) ->
                        - direction = (x=0, y=0, z=1)
                        - spacing = 0mm
                        Operation __builtin::ops::align(spacing=0mm, x=0, y=0, z=1) ->
                          Multiplicity ->
                            Workpiece(op) std::ops::rotate(angle=0rad, axis=(x=0, y=0, z=1)) ->
                              - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
                              Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                                Group ->
                                  Workpiece(op) std::ops::extrude(height=20.3mm, scale=(x=1, y=1), twist=0rad) ->
                                    - height = 20.3mm
                                    - scale = (x=1, y=1)
                                    - twist = 0rad
                                    Operation __builtin::ops::extrude(height=20.3mm, scale_x=1, scale_y=1, twist=0rad) ->
                                      Operation subtract() ->
                                        Group ->
                                          r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                            - height = 40.6mm
                                            - width = 40.6mm
                                            - x = -20.3mm
                                            - y = -20.3mm
                                            Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                          Workpiece(op) std::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                            - x = 20.3mm
                                            - y = 20.3mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                              r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                - height = 40.6mm
                                                - width = 40.6mm
                                                - x = -20.3mm
                                                - y = -20.3mm
                                                Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                            Workpiece(op) std::ops::rotate(angle=1.5707963267949rad, axis=(x=0, y=0, z=1)) ->
                              - matrix = Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]
                              Transform __builtin::ops::rotate(matrix=Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]) ->
                                Group ->
                                  Workpiece(op) std::ops::extrude(height=20.3mm, scale=(x=1, y=1), twist=0rad) ->
                                    - height = 20.3mm
                                    - scale = (x=1, y=1)
                                    - twist = 0rad
                                    Operation __builtin::ops::extrude(height=20.3mm, scale_x=1, scale_y=1, twist=0rad) ->
                                      Operation subtract() ->
                                        Group ->
                                          r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                            - height = 40.6mm
                                            - width = 40.6mm
                                            - x = -20.3mm
                                            - y = -20.3mm
                                            Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                          Workpiece(op) std::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                            - x = 20.3mm
                                            - y = 20.3mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                              r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                - height = 40.6mm
                                                - width = 40.6mm
                                                - x = -20.3mm
                                                - y = -20.3mm
                                                Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                    Workpiece(part) chess::Bishop() ->
                      Operation __builtin::ops::center() ->
                        Workpiece(op) std::ops::rotate(x=1.5707963267949rad, y=0rad, z=0rad) ->
                          - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]
                          Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]) ->
                            Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                              - height = 40.6mm
                              - scale = (x=1, y=1)
                              - twist = 0rad
                              Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                Operation __builtin::ops::union() ->
                                  Workpiece(op) std::ops::mirror(n=(x=1, y=0, z=0), x=0mm, y=0mm, z=0mm) ->
                                    - n = (x=1, y=0, z=0)
                                    - x = 0mm
                                    - y = 0mm
                                    - z = 0mm
                                    Operation __builtin::ops::mirror(nx=1, ny=0, nz=0, x=0mm, y=0mm, z=0mm) ->
                                      Operation __builtin::ops::hull() ->
                                        Multiplicity ->
                                          Workpiece(op) std::ops::translate(angle=0.78539816339745rad, distance=20.3mm) ->
                                            - x = 14.35426765808692mm
                                            - y = 14.35426765808692mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=14.35426765808692mm, y=14.35426765808692mm, z=0mm) ->
                                              Workpiece(sketch) std::geo2d::Rect(size=12.18mm) ->
                                                - height = 12.18mm
                                                - width = 12.18mm
                                                - x = -6.09mm
                                                - y = -6.09mm
                                                Primitive2D __builtin::geo2d::Rect(height=12.18mm, width=12.18mm, x=-6.09mm, y=-6.09mm) ->
                                          Workpiece(op) std::ops::translate(angle=-2.35619449019234rad, distance=20.3mm) ->
                                            - x = -14.35426765808692mm
                                            - y = -14.35426765808692mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=-14.35426765808692mm, y=-14.35426765808692mm, z=0mm) ->
                                              Workpiece(sketch) std::geo2d::Rect(size=12.18mm) ->
                                                - height = 12.18mm
                                                - width = 12.18mm
                                                - x = -6.09mm
                                                - y = -6.09mm
                                                Primitive2D __builtin::geo2d::Rect(height=12.18mm, width=12.18mm, x=-6.09mm, y=-6.09mm) ->
                    Workpiece(part) chess::Queen() ->
                      Workpiece(op) std::ops::align(direction=(x=0, y=0, z=1), spacing=0mm) ->
                        - direction = (x=0, y=0, z=1)
                        - spacing = 0mm
                        Operation __builtin::ops::align(spacing=0mm, x=0, y=0, z=1) ->
                          Group ->
                            Workpiece(part) std::geo3d::Cube(size=40.6mm) ->
                              - size_x = 40.6mm
                              - size_y = 40.6mm
                              - size_z = 40.6mm
                              Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                                - x = 0mm
                                - y = 0mm
                                - z = -20.3mm
                                Transform __builtin::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                                  Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                                    - height = 40.6mm
                                    - scale = (x=1, y=1)
                                    - twist = 0rad
                                    Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                      Workpiece(sketch) std::geo2d::Rect(height=40.6mm, width=40.6mm) ->
                                        - height = 40.6mm
                                        - width = 40.6mm
                                        - x = -20.3mm
                                        - y = -20.3mm
                                        Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                            Workpiece(part) std::geo3d::Sphere(diameter=28.70853531617383mm) ->
                              - radius = 14.35426765808692mm
                              Primitive3D __builtin::geo3d::Sphere(radius=14.35426765808692mm) ->
                    Workpiece(part) chess::King() ->
                      Workpiece(op) std::ops::align(direction=(x=0, y=0, z=1), spacing=0mm) ->
                        - direction = (x=0, y=0, z=1)
                        - spacing = 0mm
                        Operation __builtin::ops::align(spacing=0mm, x=0, y=0, z=1) ->
                          Group ->
                            Workpiece(part) std::geo3d::Cube(size=40.6mm) ->
                              - size_x = 40.6mm
                              - size_y = 40.6mm
                              - size_z = 40.6mm
                              Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                                - x = 0mm
                                - y = 0mm
                                - z = -20.3mm
                                Transform __builtin::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                                  Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                                    - height = 40.6mm
                                    - scale = (x=1, y=1)
                                    - twist = 0rad
                                    Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                      Workpiece(sketch) std::geo2d::Rect(height=40.6mm, width=40.6mm) ->
                                        - height = 40.6mm
                                        - width = 40.6mm
                                        - x = -20.3mm
                                        - y = -20.3mm
                                        Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                            Workpiece(op) std::ops::rotate(angle=0.78539816339745rad, axis=(x=0, y=0, z=1)) ->
                              - matrix = Matrix3 [[0.7071067811865476, 0.7071067811865475, 0.0], [-0.7071067811865475, 0.7071067811865476, 0.0], [0.0, 0.0, 1.0]]
                              Transform __builtin::ops::rotate(matrix=Matrix3 [[0.7071067811865476, 0.7071067811865475, 0.0], [-0.7071067811865475, 0.7071067811865476, 0.0], [0.0, 0.0, 1.0]]) ->
                                Workpiece(part) std::geo3d::Cube(size=28.70853531617383mm) ->
                                  - size_x = 28.70853531617383mm
                                  - size_y = 28.70853531617383mm
                                  - size_z = 28.70853531617383mm
                                  Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-14.35426765808692mm) ->
                                    - x = 0mm
                                    - y = 0mm
                                    - z = -14.35426765808692mm
                                    Transform __builtin::ops::translate(x=0mm, y=0mm, z=-14.35426765808692mm) ->
                                      Workpiece(op) std::ops::extrude(height=28.70853531617383mm, scale=(x=1, y=1), twist=0rad) ->
                                        - height = 28.70853531617383mm
                                        - scale = (x=1, y=1)
                                        - twist = 0rad
                                        Operation __builtin::ops::extrude(height=28.70853531617383mm, scale_x=1, scale_y=1, twist=0rad) ->
                                          Workpiece(sketch) std::geo2d::Rect(height=28.70853531617383mm, width=28.70853531617383mm) ->
                                            - height = 28.70853531617383mm
                                            - width = 28.70853531617383mm
                                            - x = -14.35426765808692mm
                                            - y = -14.35426765808692mm
                                            Primitive2D __builtin::geo2d::Rect(height=28.70853531617383mm, width=28.70853531617383mm, x=-14.35426765808692mm, y=-14.35426765808692mm) ->
                    Workpiece(part) chess::Bishop() ->
                      Operation __builtin::ops::center() ->
                        Workpiece(op) std::ops::rotate(x=1.5707963267949rad, y=0rad, z=0rad) ->
                          - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]
                          Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]) ->
                            Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                              - height = 40.6mm
                              - scale = (x=1, y=1)
                              - twist = 0rad
                              Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                Operation __builtin::ops::union() ->
                                  Workpiece(op) std::ops::mirror(n=(x=1, y=0, z=0), x=0mm, y=0mm, z=0mm) ->
                                    - n = (x=1, y=0, z=0)
                                    - x = 0mm
                                    - y = 0mm
                                    - z = 0mm
                                    Operation __builtin::ops::mirror(nx=1, ny=0, nz=0, x=0mm, y=0mm, z=0mm) ->
                                      Operation __builtin::ops::hull() ->
                                        Multiplicity ->
                                          Workpiece(op) std::ops::translate(angle=0.78539816339745rad, distance=20.3mm) ->
                                            - x = 14.35426765808692mm
                                            - y = 14.35426765808692mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=14.35426765808692mm, y=14.35426765808692mm, z=0mm) ->
                                              Workpiece(sketch) std::geo2d::Rect(size=12.18mm) ->
                                                - height = 12.18mm
                                                - width = 12.18mm
                                                - x = -6.09mm
                                                - y = -6.09mm
                                                Primitive2D __builtin::geo2d::Rect(height=12.18mm, width=12.18mm, x=-6.09mm, y=-6.09mm) ->
                                          Workpiece(op) std::ops::translate(angle=-2.35619449019234rad, distance=20.3mm) ->
                                            - x = -14.35426765808692mm
                                            - y = -14.35426765808692mm
                                            - z = 0mm
                                            Transform __builtin::ops::translate(x=-14.35426765808692mm, y=-14.35426765808692mm, z=0mm) ->
                                              Workpiece(sketch) std::geo2d::Rect(size=12.18mm) ->
                                                - height = 12.18mm
                                                - width = 12.18mm
                                                - x = -6.09mm
                                                - y = -6.09mm
                                                Primitive2D __builtin::geo2d::Rect(height=12.18mm, width=12.18mm, x=-6.09mm, y=-6.09mm) ->
                    Workpiece(op) std::ops::rotate(angle=1.5707963267949rad, axis=(x=0, y=0, z=1)) ->
                      - matrix = Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]
                      Transform __builtin::ops::rotate(matrix=Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]) ->
                        Workpiece(op) std::ops::rotate(x=3.14159265358979rad, y=0rad, z=0rad) ->
                          - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, 1.2246467991473532e-16], [0.0, -1.2246467991473532e-16, -1.0]]
                          Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, 1.2246467991473532e-16], [0.0, -1.2246467991473532e-16, -1.0]]) ->
                            Workpiece(part) chess::Knight() ->
                              Workpiece(op) std::ops::align(direction=(x=0, y=0, z=1), spacing=0mm) ->
                                - direction = (x=0, y=0, z=1)
                                - spacing = 0mm
                                Operation __builtin::ops::align(spacing=0mm, x=0, y=0, z=1) ->
                                  Multiplicity ->
                                    Workpiece(op) std::ops::rotate(angle=0rad, axis=(x=0, y=0, z=1)) ->
                                      - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
                                      Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                                        Group ->
                                          Workpiece(op) std::ops::extrude(height=20.3mm, scale=(x=1, y=1), twist=0rad) ->
                                            - height = 20.3mm
                                            - scale = (x=1, y=1)
                                            - twist = 0rad
                                            Operation __builtin::ops::extrude(height=20.3mm, scale_x=1, scale_y=1, twist=0rad) ->
                                              Operation subtract() ->
                                                Group ->
                                                  r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                    - height = 40.6mm
                                                    - width = 40.6mm
                                                    - x = -20.3mm
                                                    - y = -20.3mm
                                                    Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                                  Workpiece(op) std::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                                    - x = 20.3mm
                                                    - y = 20.3mm
                                                    - z = 0mm
                                                    Transform __builtin::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                                      r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                        - height = 40.6mm
                                                        - width = 40.6mm
                                                        - x = -20.3mm
                                                        - y = -20.3mm
                                                        Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                    Workpiece(op) std::ops::rotate(angle=1.5707963267949rad, axis=(x=0, y=0, z=1)) ->
                                      - matrix = Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]
                                      Transform __builtin::ops::rotate(matrix=Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]) ->
                                        Group ->
                                          Workpiece(op) std::ops::extrude(height=20.3mm, scale=(x=1, y=1), twist=0rad) ->
                                            - height = 20.3mm
                                            - scale = (x=1, y=1)
                                            - twist = 0rad
                                            Operation __builtin::ops::extrude(height=20.3mm, scale_x=1, scale_y=1, twist=0rad) ->
                                              Operation subtract() ->
                                                Group ->
                                                  r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                    - height = 40.6mm
                                                    - width = 40.6mm
                                                    - x = -20.3mm
                                                    - y = -20.3mm
                                                    Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                                                  Workpiece(op) std::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                                    - x = 20.3mm
                                                    - y = 20.3mm
                                                    - z = 0mm
                                                    Transform __builtin::ops::translate(x=20.3mm, y=20.3mm, z=0mm) ->
                                                      r: Workpiece(sketch) std::geo2d::Rect(size=40.6mm) ->
                                                        - height = 40.6mm
                                                        - width = 40.6mm
                                                        - x = -20.3mm
                                                        - y = -20.3mm
                                                        Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                    Workpiece(part) chess::Rook() ->
                      Workpiece(part) std::geo3d::Cube(size=40.6mm) ->
                        - size_x = 40.6mm
                        - size_y = 40.6mm
                        - size_z = 40.6mm
                        Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                          - x = 0mm
                          - y = 0mm
                          - z = -20.3mm
                          Transform __builtin::ops::translate(x=0mm, y=0mm, z=-20.3mm) ->
                            Workpiece(op) std::ops::extrude(height=40.6mm, scale=(x=1, y=1), twist=0rad) ->
                              - height = 40.6mm
                              - scale = (x=1, y=1)
                              - twist = 0rad
                              Operation __builtin::ops::extrude(height=40.6mm, scale_x=1, scale_y=1, twist=0rad) ->
                                Workpiece(sketch) std::geo2d::Rect(height=40.6mm, width=40.6mm) ->
                                  - height = 40.6mm
                                  - width = 40.6mm
                                  - x = -20.3mm
                                  - y = -20.3mm
                                  Primitive2D __builtin::geo2d::Rect(height=40.6mm, width=40.6mm, x=-20.3mm, y=-20.3mm) ->
                    Multiplicity ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
                      Workpiece(part) chess::Pawn() ->
                        Workpiece(part) std::geo3d::Cube(size=32.48000000000001mm) ->
                          - size_x = 32.48000000000001mm
                          - size_y = 32.48000000000001mm
                          - size_z = 32.48000000000001mm
                          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                            - x = 0mm
                            - y = 0mm
                            - z = -16.24mm
                            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-16.24mm) ->
                              Workpiece(op) std::ops::extrude(height=32.48000000000001mm, scale=(x=1, y=1), twist=0rad) ->
                                - height = 32.48000000000001mm
                                - scale = (x=1, y=1)
                                - twist = 0rad
                                Operation __builtin::ops::extrude(height=32.48000000000001mm, scale_x=1, scale_y=1, twist=0rad) ->
                                  Workpiece(sketch) std::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm) ->
                                    - height = 32.48000000000001mm
                                    - width = 32.48000000000001mm
                                    - x = -16.24mm
                                    - y = -16.24mm
                                    Primitive2D __builtin::geo2d::Rect(height=32.48000000000001mm, width=32.48000000000001mm, x=-16.24mm, y=-16.24mm) ->
    Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-1mm) ->
      - x = 0mm
      - y = 0mm
      - z = -1mm
      Transform __builtin::ops::translate(x=0mm, y=0mm, z=-1mm) ->
        Workpiece(op) std::ops::extrude(height=1mm, scale=(x=1, y=1), twist=0rad) ->
          - height = 1mm
          - scale = (x=1, y=1)
          - twist = 0rad
          Operation __builtin::ops::extrude(height=1mm, scale_x=1, scale_y=1, twist=0rad) ->
            Workpiece(sketch) std::geo2d::Rect(size=464mm) ->
              - height = 464mm
              - width = 464mm
              - x = -232mm
              - y = -232mm
              Primitive2D __builtin::geo2d::Rect(height=464mm, width=464mm, x=-232mm, y=-232mm) ->

Export of "../books/examples/src/.test/chess-out.stl" successful.
-- Test Result --
OK
