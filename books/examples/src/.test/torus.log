
-- Test --
        Test name: torus
  Expected result: ok
      Source file: ../books/examples/src/torus.md:6
        Test path: ../books/examples/src/.test

-- Code --

   6:   // Copyright © 2025 The µcad authors <info@ucad.xyz>
   7:   // SPDX-License-Identifier: AGPL-3.0-or-later
   8:   
   9:   std::geo3d::Torus([1..5] * 10mm, minor_radius = 3mm);
  10:   

-- No Output --
-- Errors --
  × error: 78:24: Workbench Circle has ambiguous initialization for those arguments
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── Got: Circle( minor_radius = 3mm )
 84 │         .std::ops::translate(x = major_radius)
    ╰────
  help: Ambiguous initializations:
        	std::geo2d::Circle(radius: Length, center = (x = 0mm, y = 0mm))
        	std::geo2d::Circle::init(diameter: Length, center = (x = 0mm, y = 0mm))
  ⚠ warning: 78:5: This expression statement did not produce any model
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── warning: 78:5: This expression statement did not produce any model
 84 │         .std::ops::translate(x = major_radius)
    ╰────
  × error: 78:24: Workbench Circle has ambiguous initialization for those arguments
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── Got: Circle( minor_radius = 3mm )
 84 │         .std::ops::translate(x = major_radius)
    ╰────
  help: Ambiguous initializations:
        	std::geo2d::Circle(radius: Length, center = (x = 0mm, y = 0mm))
        	std::geo2d::Circle::init(diameter: Length, center = (x = 0mm, y = 0mm))
  ⚠ warning: 78:5: This expression statement did not produce any model
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── warning: 78:5: This expression statement did not produce any model
 84 │         .std::ops::translate(x = major_radius)
    ╰────
  × error: 78:24: Workbench Circle has ambiguous initialization for those arguments
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── Got: Circle( minor_radius = 3mm )
 84 │         .std::ops::translate(x = major_radius)
    ╰────
  help: Ambiguous initializations:
        	std::geo2d::Circle(radius: Length, center = (x = 0mm, y = 0mm))
        	std::geo2d::Circle::init(diameter: Length, center = (x = 0mm, y = 0mm))
  ⚠ warning: 78:5: This expression statement did not produce any model
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── warning: 78:5: This expression statement did not produce any model
 84 │         .std::ops::translate(x = major_radius)
    ╰────
  × error: 78:24: Workbench Circle has ambiguous initialization for those arguments
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── Got: Circle( minor_radius = 3mm )
 84 │         .std::ops::translate(x = major_radius)
    ╰────
  help: Ambiguous initializations:
        	std::geo2d::Circle(radius: Length, center = (x = 0mm, y = 0mm))
        	std::geo2d::Circle::init(diameter: Length, center = (x = 0mm, y = 0mm))
  ⚠ warning: 78:5: This expression statement did not produce any model
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── warning: 78:5: This expression statement did not produce any model
 84 │         .std::ops::translate(x = major_radius)
    ╰────
  × error: 78:24: Workbench Circle has ambiguous initialization for those arguments
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── Got: Circle( minor_radius = 3mm )
 84 │         .std::ops::translate(x = major_radius)
    ╰────
  help: Ambiguous initializations:
        	std::geo2d::Circle(radius: Length, center = (x = 0mm, y = 0mm))
        	std::geo2d::Circle::init(diameter: Length, center = (x = 0mm, y = 0mm))
  ⚠ warning: 78:5: This expression statement did not produce any model
    ╭─[../crates/std/lib/std/geo3d.µcad:83:5]
 82 │ pub part Torus(major_radius: Length, minor_radius: Length) {
 83 │     std::geo2d::Circle(minor_radius)
    ·     ────────────────┬───────────────
    ·                     ╰── warning: 78:5: This expression statement did not produce any model
 84 │         .std::ops::translate(x = major_radius)
    ╰────
Unexpected error(s) which did occur in line(s): 83
Unexpected warnings(s) which did occur in line(s): 83
-- Test Result --
FAILS
