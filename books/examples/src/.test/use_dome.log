
-- Test --
        Test name: use_dome
  Expected result: ok
      Source file: ../books/examples/src/use_dome.md:6
        Test path: ../books/examples/src/.test

-- Code --

   6:   // Copyright © 2025 The µcad authors <info@ucad.xyz>
   7:   // SPDX-License-Identifier: AGPL-3.0-or-later
   8:   
   9:   mod dome;
  10:   
  11:   dome::Dome(10mm, strut_width = 0.5mm).std::ops::mirror(std::math::Z);

-- No Output --
-- No Errors --
-- Model --
  Group (root) ->
    Workpiece(op) std::ops::mirror(n=(x=0, y=0, z=1), x=0mm, y=0mm, z=0mm) ->
      - n = (x=0, y=0, z=1)
      - x = 0mm
      - y = 0mm
      - z = 0mm
      Operation __builtin::ops::mirror(nx=0, ny=0, nz=1, x=0mm, y=0mm, z=0mm) ->
        Workpiece(part) use_dome::dome::Dome(size=10mm, strut_width=0.5mm) ->
          - size = 10mm
          - strut_width = 0.5mm
          Multiplicity ->
            Workpiece(op) std::ops::rotate(x=0rad, y=0rad, z=0rad) ->
              - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
              Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                Multiplicity ->
                  Workpiece(op) std::ops::rotate(x=0rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-0.5235987755983rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, 0.8660254037844387]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, 0.8660254037844387]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-1.0471975511966rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.5000000000000001, -0.8660254037844386], [0.0, 0.8660254037844386, 0.5000000000000001]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.5000000000000001, -0.8660254037844386], [0.0, 0.8660254037844386, 0.5000000000000001]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-1.5707963267949rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, -1.0], [0.0, 1.0, 6.123233995736766e-17]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, -1.0], [0.0, 1.0, 6.123233995736766e-17]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-2.0943951023932rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.4999999999999998, -0.8660254037844387], [0.0, 0.8660254037844387, -0.4999999999999998]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.4999999999999998, -0.8660254037844387], [0.0, 0.8660254037844387, -0.4999999999999998]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-2.61799387799149rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, -0.8660254037844387]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, -0.8660254037844387]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-3.14159265358979rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, -1.2246467991473532e-16], [0.0, 1.2246467991473532e-16, -1.0]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, -1.2246467991473532e-16], [0.0, 1.2246467991473532e-16, -1.0]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
            Workpiece(op) std::ops::rotate(x=0rad, y=0rad, z=1.0471975511966rad) ->
              - matrix = Matrix3 [[0.5000000000000001, 0.8660254037844386, 0.0], [-0.8660254037844386, 0.5000000000000001, 0.0], [0.0, 0.0, 1.0]]
              Transform __builtin::ops::rotate(matrix=Matrix3 [[0.5000000000000001, 0.8660254037844386, 0.0], [-0.8660254037844386, 0.5000000000000001, 0.0], [0.0, 0.0, 1.0]]) ->
                Multiplicity ->
                  Workpiece(op) std::ops::rotate(x=0rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-0.5235987755983rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, 0.8660254037844387]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, 0.8660254037844387]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-1.0471975511966rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.5000000000000001, -0.8660254037844386], [0.0, 0.8660254037844386, 0.5000000000000001]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.5000000000000001, -0.8660254037844386], [0.0, 0.8660254037844386, 0.5000000000000001]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-1.5707963267949rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, -1.0], [0.0, 1.0, 6.123233995736766e-17]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, -1.0], [0.0, 1.0, 6.123233995736766e-17]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-2.0943951023932rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.4999999999999998, -0.8660254037844387], [0.0, 0.8660254037844387, -0.4999999999999998]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.4999999999999998, -0.8660254037844387], [0.0, 0.8660254037844387, -0.4999999999999998]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-2.61799387799149rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, -0.8660254037844387]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, -0.8660254037844387]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-3.14159265358979rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, -1.2246467991473532e-16], [0.0, 1.2246467991473532e-16, -1.0]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, -1.2246467991473532e-16], [0.0, 1.2246467991473532e-16, -1.0]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
            Workpiece(op) std::ops::rotate(x=0rad, y=0rad, z=2.0943951023932rad) ->
              - matrix = Matrix3 [[-0.4999999999999998, 0.8660254037844387, 0.0], [-0.8660254037844387, -0.4999999999999998, 0.0], [0.0, 0.0, 1.0]]
              Transform __builtin::ops::rotate(matrix=Matrix3 [[-0.4999999999999998, 0.8660254037844387, 0.0], [-0.8660254037844387, -0.4999999999999998, 0.0], [0.0, 0.0, 1.0]]) ->
                Multiplicity ->
                  Workpiece(op) std::ops::rotate(x=0rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-0.5235987755983rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, 0.8660254037844387]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, 0.8660254037844387]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-1.0471975511966rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.5000000000000001, -0.8660254037844386], [0.0, 0.8660254037844386, 0.5000000000000001]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.5000000000000001, -0.8660254037844386], [0.0, 0.8660254037844386, 0.5000000000000001]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-1.5707963267949rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, -1.0], [0.0, 1.0, 6.123233995736766e-17]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, -1.0], [0.0, 1.0, 6.123233995736766e-17]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-2.0943951023932rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.4999999999999998, -0.8660254037844387], [0.0, 0.8660254037844387, -0.4999999999999998]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.4999999999999998, -0.8660254037844387], [0.0, 0.8660254037844387, -0.4999999999999998]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-2.61799387799149rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, -0.8660254037844387]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, -0.8660254037844387]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-3.14159265358979rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, -1.2246467991473532e-16], [0.0, 1.2246467991473532e-16, -1.0]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, -1.2246467991473532e-16], [0.0, 1.2246467991473532e-16, -1.0]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
            Workpiece(op) std::ops::rotate(x=0rad, y=0rad, z=3.14159265358979rad) ->
              - matrix = Matrix3 [[-1.0, 1.2246467991473532e-16, 0.0], [-1.2246467991473532e-16, -1.0, 0.0], [0.0, 0.0, 1.0]]
              Transform __builtin::ops::rotate(matrix=Matrix3 [[-1.0, 1.2246467991473532e-16, 0.0], [-1.2246467991473532e-16, -1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                Multiplicity ->
                  Workpiece(op) std::ops::rotate(x=0rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-0.5235987755983rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, 0.8660254037844387]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, 0.8660254037844387]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-1.0471975511966rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.5000000000000001, -0.8660254037844386], [0.0, 0.8660254037844386, 0.5000000000000001]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 0.5000000000000001, -0.8660254037844386], [0.0, 0.8660254037844386, 0.5000000000000001]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-1.5707963267949rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, -1.0], [0.0, 1.0, 6.123233995736766e-17]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, -1.0], [0.0, 1.0, 6.123233995736766e-17]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-2.0943951023932rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.4999999999999998, -0.8660254037844387], [0.0, 0.8660254037844387, -0.4999999999999998]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.4999999999999998, -0.8660254037844387], [0.0, 0.8660254037844387, -0.4999999999999998]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-2.61799387799149rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, -0.8660254037844387]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -0.8660254037844387, -0.49999999999999994], [0.0, 0.49999999999999994, -0.8660254037844387]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->
                  Workpiece(op) std::ops::rotate(x=-3.14159265358979rad, y=0rad, z=0rad) ->
                    - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, -1.2246467991473532e-16], [0.0, 1.2246467991473532e-16, -1.0]]
                    Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, -1.0, -1.2246467991473532e-16], [0.0, 1.2246467991473532e-16, -1.0]]) ->
                      Workpiece(op) std::ops::revolve(angle=3.14159265358979rad) ->
                        - angle = 3.14159265358979rad
                        Operation __builtin::ops::revolve(angle=3.14159265358979rad) ->
                          Workpiece(op) std::ops::translate(x=10mm, y=0mm, z=0mm) ->
                            - x = 10mm
                            - y = 0mm
                            - z = 0mm
                            Transform __builtin::ops::translate(x=10mm, y=0mm, z=0mm) ->
                              Workpiece(sketch) std::geo2d::Rect(size=0.5mm) ->
                                - height = 0.5mm
                                - width = 0.5mm
                                - x = -0.25mm
                                - y = -0.25mm
                                Primitive2D __builtin::geo2d::Rect(height=0.5mm, width=0.5mm, x=-0.25mm, y=-0.25mm) ->

Export of "../books/examples/src/.test/use_dome-out.stl" successful.
-- Test Result --
OK
