
-- Test --
        Test name: if_expression
  Expected result: ok
      Source file: ../books/language/src/expressions/model_expression.md:25
        Test path: ../books/language/src/expressions/.test

-- Code --

  25:   use std::ops::*;
  26:   use std::math::*;
  27:   use std::geo2d::*;
  28:   
  29:   sketch MySketch(a: Integer) {
  30:       outer = if a == 1 {
  31:           Circle(1cm)
  32:       } else if a == 2 {
  33:           Rect(1cm)
  34:       } else {
  35:           Hexagon(1cm)
  36:       };
  37:   
  38:       outer - Circle(3mm)
  39:   }
  40:   
  41:   MySketch([1,2,3]).align(X, 1cm);

-- No Output --
-- Errors --
  × error: 7:16: Workbench Circle has ambiguous initialization for those arguments
    ╭─[../books/language/src/expressions/model_expression.md:31:9]
 30 │     outer = if a == 1 {
 31 │         Circle(1cm)
    ·         ─────┬─────
    ·              ╰── Got: Circle( 10mm )
 32 │     } else if a == 2 {
    ╰────
  help: Ambiguous initializations:
        	std::geo2d::Circle(radius: Length, center = (x = 0mm, y = 0mm))
        	std::geo2d::Circle::init(diameter: Length, center = (x = 0mm, y = 0mm))
  × error: 14:20: Workbench Circle has ambiguous initialization for those arguments
    ╭─[../books/language/src/expressions/model_expression.md:38:13]
 37 │ 
 38 │     outer - Circle(3mm)
    ·             ─────┬─────
    ·                  ╰── Got: Circle( 3mm )
 39 │ }
    ╰────
  help: Ambiguous initializations:
        	std::geo2d::Circle(radius: Length, center = (x = 0mm, y = 0mm))
        	std::geo2d::Circle::init(diameter: Length, center = (x = 0mm, y = 0mm))
  × error: 14:20: Workbench Circle has ambiguous initialization for those arguments
    ╭─[../books/language/src/expressions/model_expression.md:38:13]
 37 │ 
 38 │     outer - Circle(3mm)
    ·             ─────┬─────
    ·                  ╰── Got: Circle( 3mm )
 39 │ }
    ╰────
  help: Ambiguous initializations:
        	std::geo2d::Circle(radius: Length, center = (x = 0mm, y = 0mm))
        	std::geo2d::Circle::init(diameter: Length, center = (x = 0mm, y = 0mm))
  × error: 14:20: Workbench Circle has ambiguous initialization for those arguments
    ╭─[../books/language/src/expressions/model_expression.md:38:13]
 37 │ 
 38 │     outer - Circle(3mm)
    ·             ─────┬─────
    ·                  ╰── Got: Circle( 3mm )
 39 │ }
    ╰────
  help: Ambiguous initializations:
        	std::geo2d::Circle(radius: Length, center = (x = 0mm, y = 0mm))
        	std::geo2d::Circle::init(diameter: Length, center = (x = 0mm, y = 0mm))
Unexpected error(s) which did occur in line(s): 31, 38
-- Test Result --
FAILS
