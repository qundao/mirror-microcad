
-- Test --
        Test name: rotate_3d
  Expected result: ok
      Source file: ../books/language/src/libraries/std/ops/rotate.md:16
        Test path: ../books/language/src/libraries/std/ops/.test

-- Code --

  16:   cylinder = std::geo3d::Cylinder(h = 50mm, d = 20mm);
  17:   
  18:   cylinder.std::ops::rotate(x = 90°);
  19:   cylinder.std::ops::rotate(y = 90°);
  20:   cylinder.std::ops::rotate(z = 90°);

-- No Output --
-- No Errors --
-- Model --
  Group (root) ->
    Workpiece(op) std::ops::rotate(x=1.5707963267949rad, y=0rad, z=0rad) ->
      - matrix = Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]
      Transform __builtin::ops::rotate(matrix=Matrix3 [[1.0, 0.0, 0.0], [0.0, 6.123233995736766e-17, 1.0], [0.0, -1.0, 6.123233995736766e-17]]) ->
        cylinder: Workpiece(part) std::geo3d::Cylinder(d=20mm, h=50mm) ->
          - height = 50mm
          - offset = -25mm
          - radius_bottom = 10mm
          - radius_top = 10mm
          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-25mm) ->
            - x = 0mm
            - y = 0mm
            - z = -25mm
            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-25mm) ->
              Workpiece(op) std::ops::extrude(height=50mm, scale=(x=1, y=1), twist=0rad) ->
                - height = 50mm
                - scale = (x=1, y=1)
                - twist = 0rad
                Operation __builtin::ops::extrude(height=50mm, scale_x=1, scale_y=1, twist=0rad) ->
                  Workpiece(sketch) std::geo2d::Circle(center=(x=0mm, y=0mm), radius=10mm) ->
                    - center = (x=0mm, y=0mm)
                    - radius = 10mm
                    Transform __builtin::ops::translate(x=0mm, y=0mm, z=0mm) ->
                      Primitive2D __builtin::geo2d::Circle(radius=10mm) ->
    Workpiece(op) std::ops::rotate(x=0rad, y=1.5707963267949rad, z=0rad) ->
      - matrix = Matrix3 [[6.123233995736766e-17, 0.0, -1.0], [0.0, 1.0, 0.0], [1.0, 0.0, 6.123233995736766e-17]]
      Transform __builtin::ops::rotate(matrix=Matrix3 [[6.123233995736766e-17, 0.0, -1.0], [0.0, 1.0, 0.0], [1.0, 0.0, 6.123233995736766e-17]]) ->
        cylinder: Workpiece(part) std::geo3d::Cylinder(d=20mm, h=50mm) ->
          - height = 50mm
          - offset = -25mm
          - radius_bottom = 10mm
          - radius_top = 10mm
          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-25mm) ->
            - x = 0mm
            - y = 0mm
            - z = -25mm
            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-25mm) ->
              Workpiece(op) std::ops::extrude(height=50mm, scale=(x=1, y=1), twist=0rad) ->
                - height = 50mm
                - scale = (x=1, y=1)
                - twist = 0rad
                Operation __builtin::ops::extrude(height=50mm, scale_x=1, scale_y=1, twist=0rad) ->
                  Workpiece(sketch) std::geo2d::Circle(center=(x=0mm, y=0mm), radius=10mm) ->
                    - center = (x=0mm, y=0mm)
                    - radius = 10mm
                    Transform __builtin::ops::translate(x=0mm, y=0mm, z=0mm) ->
                      Primitive2D __builtin::geo2d::Circle(radius=10mm) ->
    Workpiece(op) std::ops::rotate(x=0rad, y=0rad, z=1.5707963267949rad) ->
      - matrix = Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]
      Transform __builtin::ops::rotate(matrix=Matrix3 [[6.123233995736766e-17, 1.0, 0.0], [-1.0, 6.123233995736766e-17, 0.0], [0.0, 0.0, 1.0]]) ->
        cylinder: Workpiece(part) std::geo3d::Cylinder(d=20mm, h=50mm) ->
          - height = 50mm
          - offset = -25mm
          - radius_bottom = 10mm
          - radius_top = 10mm
          Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-25mm) ->
            - x = 0mm
            - y = 0mm
            - z = -25mm
            Transform __builtin::ops::translate(x=0mm, y=0mm, z=-25mm) ->
              Workpiece(op) std::ops::extrude(height=50mm, scale=(x=1, y=1), twist=0rad) ->
                - height = 50mm
                - scale = (x=1, y=1)
                - twist = 0rad
                Operation __builtin::ops::extrude(height=50mm, scale_x=1, scale_y=1, twist=0rad) ->
                  Workpiece(sketch) std::geo2d::Circle(center=(x=0mm, y=0mm), radius=10mm) ->
                    - center = (x=0mm, y=0mm)
                    - radius = 10mm
                    Transform __builtin::ops::translate(x=0mm, y=0mm, z=0mm) ->
                      Primitive2D __builtin::geo2d::Circle(radius=10mm) ->

Export of "../books/language/src/libraries/std/ops/.test/rotate_3d-out.stl" successful.
-- Test Result --
OK
