-- Test --
        Test name: mirror_3d
  Expected result: ok
      Source file: ../books/language/src/libraries/std/ops/mirror.md:8
        Test path: ../books/language/src/libraries/std/ops/.test

-- Code --

   8:   use std::math::*;
   9:   use std::ops::*;
  10:   use std::geo3d::*;
  11:   
  12:   s = 25mm;
  13:   p = 5mm;
  14:   { 
  15:       (Cube(s * 2) - Cube(s).translate(x = s/2, y = s/2, z = s/2))
  16:           .translate(x = s + p, y = s + p, z = s + p)
  17:   }
  18:   .mirror(X)
  19:   .mirror(Y)
  20:   .mirror(Z)

-- No Output --
-- No Errors --
-- Model --
  Group (root) ->
    Workpiece(op) std::ops::mirror(n=(x=0, y=0, z=1), x=0mm, y=0mm, z=0mm) ->
      - n = (x=0, y=0, z=1)
      - x = 0mm
      - y = 0mm
      - z = 0mm
      Operation __builtin::ops::mirror(nx=0, ny=0, nz=1, x=0mm, y=0mm, z=0mm) ->
        Workpiece(op) std::ops::mirror(n=(x=0, y=1, z=0), x=0mm, y=0mm, z=0mm) ->
          - n = (x=0, y=1, z=0)
          - x = 0mm
          - y = 0mm
          - z = 0mm
          Operation __builtin::ops::mirror(nx=0, ny=1, nz=0, x=0mm, y=0mm, z=0mm) ->
            Workpiece(op) std::ops::mirror(n=(x=1, y=0, z=0), x=0mm, y=0mm, z=0mm) ->
              - n = (x=1, y=0, z=0)
              - x = 0mm
              - y = 0mm
              - z = 0mm
              Operation __builtin::ops::mirror(nx=1, ny=0, nz=0, x=0mm, y=0mm, z=0mm) ->
                Group ->
                  Workpiece(op) std::ops::translate(x=30mm, y=30mm, z=30mm) ->
                    - x = 30mm
                    - y = 30mm
                    - z = 30mm
                    Transform __builtin::ops::translate(x=30mm, y=30mm, z=30mm) ->
                      Operation subtract() ->
                        Group ->
                          Workpiece(part) std::geo3d::Cube(size=50mm) ->
                            - size_x = 50mm
                            - size_y = 50mm
                            - size_z = 50mm
                            Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-25mm) ->
                              - x = 0mm
                              - y = 0mm
                              - z = -25mm
                              Transform __builtin::ops::translate(x=0mm, y=0mm, z=-25mm) ->
                                Workpiece(op) std::ops::extrude(z=50mm) ->
                                  - height = 50mm
                                  - scale = (x=1, y=1)
                                  - twist = 0rad
                                  Operation __builtin::ops::extrude(height=50mm, scale_x=1, scale_y=1, twist=0rad) ->
                                    Workpiece(sketch) std::geo2d::Rect(height=50mm, width=50mm) ->
                                      - height = 50mm
                                      - width = 50mm
                                      - x = -25mm
                                      - y = -25mm
                                      Primitive2D __builtin::geo2d::Rect(height=50mm, width=50mm, x=-25mm, y=-25mm) ->
                          Workpiece(op) std::ops::translate(x=12.5mm, y=12.5mm, z=12.5mm) ->
                            - x = 12.5mm
                            - y = 12.5mm
                            - z = 12.5mm
                            Transform __builtin::ops::translate(x=12.5mm, y=12.5mm, z=12.5mm) ->
                              Workpiece(part) std::geo3d::Cube(size=25mm) ->
                                - size_x = 25mm
                                - size_y = 25mm
                                - size_z = 25mm
                                Workpiece(op) std::ops::translate(x=0mm, y=0mm, z=-12.5mm) ->
                                  - x = 0mm
                                  - y = 0mm
                                  - z = -12.5mm
                                  Transform __builtin::ops::translate(x=0mm, y=0mm, z=-12.5mm) ->
                                    Workpiece(op) std::ops::extrude(z=25mm) ->
                                      - height = 25mm
                                      - scale = (x=1, y=1)
                                      - twist = 0rad
                                      Operation __builtin::ops::extrude(height=25mm, scale_x=1, scale_y=1, twist=0rad) ->
                                        Workpiece(sketch) std::geo2d::Rect(height=25mm, width=25mm) ->
                                          - height = 25mm
                                          - width = 25mm
                                          - x = -12.5mm
                                          - y = -12.5mm
                                          Primitive2D __builtin::geo2d::Rect(height=25mm, width=25mm, x=-12.5mm, y=-12.5mm) ->

Export of "../books/language/src/libraries/std/ops/.test/mirror_3d-out.stl" successful.
-- Test Result --
OK
