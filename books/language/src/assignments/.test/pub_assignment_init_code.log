
-- Test --
        Test name: pub_assignment_init_code
  Expected result: fail
      Source file: ../books/language/src/assignments/pub.md:76
        Test path: ../books/language/src/assignments/.test

-- Code --

  76:   sketch MySketch() {
  77:       pub MY_CONST = 1;   // error: not allowed in init code
  78:   
  79:       init(_: Integer) {}
  80:   }
  81:   MySketch();

-- No Output --
-- Errors --
  × error: 2:5: Statement not allowed within workbenches
    ╭─[../books/language/src/assignments/pub.md:77:5]
 76 │ sketch MySketch() {
 77 │     pub MY_CONST = 1;   // error: not allowed in init code
    ·     ────────┬────────
    ·             ╰── error: 2:5: Statement not allowed within workbenches
 78 │ 
    ╰────
  × error: 2:5: Assignment statement is not available within Sketch
    ╭─[../books/language/src/assignments/pub.md:77:5]
 76 │ sketch MySketch() {
 77 │     pub MY_CONST = 1;   // error: not allowed in init code
    ·     ────────┬────────
    ·             ╰── error: 2:5: Assignment statement is not available within Sketch
 78 │ 
    ╰────
Evaluation aborted because of prior resolve errors!
-- Test Result --
FAILS AS EXPECTED
