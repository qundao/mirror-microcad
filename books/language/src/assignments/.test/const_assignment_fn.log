
-- Test --
        Test name: const_assignment_fn
  Expected result: fail
      Source file: ../books/language/src/assignments/const.md:144
        Test path: ../books/language/src/assignments/.test

-- Code --

 144:   fn f() {
 145:       const MY_CONST = 1;     // error: not allowed in functions
 146:   }
 147:   f();
 148:   
 149:   sketch MySketch() {
 150:       fn f() {
 151:           const MY_CONST = 1; // error: not allowed in workbench functions
 152:       }
 153:       f();
 154:   }
 155:   MySketch();

-- No Output --
-- Errors --
  × error: 2:5: Assignment statement is not available within Function
     ╭─[../books/language/src/assignments/const.md:145:5]
 144 │ fn f() {
 145 │     const MY_CONST = 1;     // error: not allowed in functions
     ·     ─────────┬─────────
     ·              ╰── error: 2:5: Assignment statement is not available within Function
 146 │ }
     ╰────
  × error: 2:5: Declaration of MY_CONST not allowed within const_assignment_fn::f
     ╭─[../books/language/src/assignments/const.md:145:5]
 144 │ fn f() {
 145 │     const MY_CONST = 1;     // error: not allowed in functions
     ·     ─────────┬─────────
     ·              ╰── error: 2:5: Declaration of MY_CONST not allowed within const_assignment_fn::f
 146 │ }
     ╰────
  × error: 8:9: Assignment statement is not available within Function
     ╭─[../books/language/src/assignments/const.md:151:9]
 150 │     fn f() {
 151 │         const MY_CONST = 1; // error: not allowed in workbench functions
     ·         ─────────┬─────────
     ·                  ╰── error: 8:9: Assignment statement is not available within Function
 152 │     }
     ╰────
  × error: 8:9: Declaration of MY_CONST not allowed within const_assignment_fn::MySketch::f
     ╭─[../books/language/src/assignments/const.md:151:9]
 150 │     fn f() {
 151 │         const MY_CONST = 1; // error: not allowed in workbench functions
     ·         ─────────┬─────────
     ·                  ╰── error: 8:9: Declaration of MY_CONST not allowed within const_assignment_fn::MySketch::f
 152 │     }
     ╰────
Evaluation aborted because of prior resolve errors!
-- Test Result --
FAILS AS EXPECTED
