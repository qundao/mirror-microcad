
-- Test --
        Test name: prop_assignment_initializer
  Expected result: fail
      Source file: ../books/language/src/assignments/property.md:59
        Test path: ../books/language/src/assignments/.test

-- Code --

  59:   sketch MySketch(radius: Length) {
  60:       init() { 
  61:           radius = 1; 
  62:           prop diameter = radius * 2; // error: not in initializer
  63:       }
  64:       std::geo2d::Circle(radius);
  65:   }
  66:   MySketch(5cm)

-- No Output --
-- Errors --
  × error: 62:9: Property assignment is not allowed within initializer
    ╭─[../books/language/src/assignments/property.md:62:9]
 59 │ sketch MySketch(radius: Length) {
 60 │     init() { 
    ·     ──┬─
    ·       ╰── Within this initializer
 61 │         radius = 1; 
 62 │         prop diameter = radius * 2; // error: not in initializer
    ·         ─────────────┬────────────
    ·                      ╰── This property assignment is not allowed
 63 │     }
    ╰────
  help: property assignment is only allowed within workbench
Evaluation aborted because of prior resolve errors!
-- Test Result --
FAILS AS EXPECTED
