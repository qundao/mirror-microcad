
-- Test --
        Test name: property_no_prop_in_init_code
  Expected result: fail
      Source file: ../books/language/src/structure/workbenches/elements/properties.md:95
        Test path: ../books/language/src/structure/workbenches/elements/.test

-- Code --

  95:   sketch Wheel(outer: Length) {
  96:   
  97:       prop max = 100;     // error: do not use prop here
  98:   
  99:       init(inner: Length) {
 100:           outer = inner * 2;
 101:       }
 102:   }
 103:   Wheel(inner = 0.5cm);

-- No Output --
-- Errors --
  × error: 97:5: Statement not allowed prior initializers
     ╭─[../books/language/src/structure/workbenches/elements/properties.md:97:5]
  95 │ sketch Wheel(outer: Length) {
     · ───┬──
     ·    ╰── Inside this workbench
  96 │ 
  97 │     prop max = 100;     // error: do not use prop here
     ·     ───────┬──────
     ·            ╰── This statement is not allowed
  98 │ 
  99 │     init(inner: Length) {
     ·     ──┬─
     ·       ╰── Before this initializer
 100 │         outer = inner * 2;
     ╰────
Evaluation aborted because of prior resolve errors!
-- Test Result --
FAILS AS EXPECTED
