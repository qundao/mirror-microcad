
-- Test --
        Test name: code_between_initializers
  Expected result: fail
      Source file: ../books/language/src/structure/workbenches/elements/initializers.md:152
        Test path: ../books/language/src/structure/workbenches/elements/.test

-- Code --

 152:   sketch Wheel(radius: Length, thickness = 5mm) {
 153:       use std::geo2d::Circle;
 154:   
 155:       init( width: Length, thickness = 5mm ) { radius = width / 2; }
 156:       radius = 1; // error: code between initializers not allowed
 157:       init( height: Length, thickness = 5mm ) { radius = height / 2; }
 158:   
 159:       Circle(radius = radius + thickness) - Circle(radius)
 160:   }
 161:   Wheel(radius = 1cm);

-- No Output --
-- Errors --
  × error: 156:5: Code between initializers is not allowed
     ╭─[../books/language/src/structure/workbenches/elements/initializers.md:156:5]
 152 │     sketch Wheel(radius: Length, thickness = 5mm) {
     ·     ───┬──
     ·        ╰── Inside this workbench
 153 │         use std::geo2d::Circle;
 154 │     
 155 │ ╭─▶     init( width: Length, thickness = 5mm ) { radius = width / 2; }
 156 │ │       radius = 1; // error: code between initializers not allowed
     · │       ─────┬────
     · │            ╰── This statement is not allowed
 157 │ ├─▶     init( height: Length, thickness = 5mm ) { radius = height / 2; }
     · ╰──── Between these initializers
 158 │     
     ╰────
Evaluation aborted because of prior resolve errors!
-- Test Result --
FAILS AS EXPECTED
