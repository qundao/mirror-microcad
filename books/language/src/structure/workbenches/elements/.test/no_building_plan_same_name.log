
-- Test --
        Test name: no_building_plan_same_name
  Expected result: fail
      Source file: ../books/language/src/structure/workbenches/elements/initializers.md:113
        Test path: ../books/language/src/structure/workbenches/elements/.test

-- Code --

 113:   sketch Wheel(radius: Length, thickness: Length) {
 114:       use std::geo2d::Circle;
 115:   
 116:       init( radius: Length ) {
 117:           // radius property has already been set by building plan
 118:           radius = radius * 2;  // error: it cannot be set a second time
 119:           thickness = 5mm;
 120:       }
 121:       Circle(radius = radius + thickness) - Circle(radius)
 122:   }
 123:   // Use initializer
 124:   Wheel(radius = 1cm);

-- No Output --
-- Errors --
  × error: 6:9: Value radius already in defined: 10mm
     ╭─[../books/language/src/structure/workbenches/elements/initializers.md:118:9]
 117 │         // radius property has already been set by building plan
 118 │         radius = radius * 2;  // error: it cannot be set a second time
     ·         ─────────┬─────────┬
     ·                  │         ╰── Previously defined here
     ·                  ╰── radius is already defined
 119 │         thickness = 5mm;
     ╰────
  help: Values in microcad are immutable
  × error: 6:9: Value radius already in defined: 10mm
     ╭─[../books/language/src/structure/workbenches/elements/initializers.md:118:9]
 117 │         // radius property has already been set by building plan
 118 │         radius = radius * 2;  // error: it cannot be set a second time
     ·         ───┬──┬
     ·            │  ╰── Previously defined here
     ·            ╰── radius is already defined
 119 │         thickness = 5mm;
     ╰────
  help: Values in microcad are immutable
-- Test Result --
FAILS AS EXPECTED
