
-- Test --
        Test name: no_building_plan_same_name
  Expected result: fail
      Source file: ../books/language/src/structure/workbenches/initializers.md:100
        Test path: ../books/language/src/structure/workbenches/.test

-- Code --

 100:   sketch Wheel(radius: Length, inner: Length) {
 101:       init( radius: Length ) {
 102:           // radius is seta property already by building plan
 103:   
 104:           radius = radius * 2;  // error: it cannot be set a second time
 105:           inner = radius / 2;        
 106:       }
 107:   
 108:       use std::geo2d::Circle;
 109:       Circle(radius) - Circle(radius = inner)
 110:   }
 111:   // Use initializer
 112:   Wheel(radius = 1.0mm);

-- No Output --
-- Errors --
  × error: 5:9: Value radius already in defined: 1mm
     ╭─[../books/language/src/structure/workbenches/initializers.md:104:9]
 103 │ 
 104 │         radius = radius * 2;  // error: it cannot be set a second time
     ·         ─────────┬─────────┬
     ·                  │         ╰── Previously defined here
     ·                  ╰── radius is already defined
 105 │         inner = radius / 2;        
     ╰────
  help: Values in microcad are immutable
  × error: 5:9: Value radius already in defined: 1mm
     ╭─[../books/language/src/structure/workbenches/initializers.md:104:9]
 103 │ 
 104 │         radius = radius * 2;  // error: it cannot be set a second time
     ·         ───┬──┬
     ·            │  ╰── Previously defined here
     ·            ╰── radius is already defined
 105 │         inner = radius / 2;        
     ╰────
  help: Values in microcad are immutable
-- Test Result --
FAILS AS EXPECTED
