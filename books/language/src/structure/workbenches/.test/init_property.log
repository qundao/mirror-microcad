-- Test --
        Test name: init_property
  Expected result: ok
      Source file: ../books/language/src/structure/workbenches/README.md:130
        Test path: ../books/language/src/structure/workbenches/.test
      Banner file: ../books/language/src/structure/workbenches/.test/init_property.svg
         Log file: ../books/language/src/structure/workbenches/.test/init_property.log
 Output file stem: ../books/language/src/structure/workbenches/.test/init_property-out

-- Code --

 130:   sketch Wheel(radius: Length, thickness: Length) {
 131:       // initializer with diameter
 132:       init( diameter: Length, thickness: Length ) {
 133:           // must set `radius` in code 
 134:           radius = diameter / 2;
 135:   
 136:           // thickness (from the building plan) does not need 
 137:           // to be set, because it was automatically set by 
 138:           // parameter of this initializer
 139:       }
 140:   
 141:       // Now radius and thickness can be used
 142:       std::geo2d::Circle(radius) - std::geo2d::Circle(radius - thickness);
 143:   }
 144:   
 145:   // call with building plan
 146:   Wheel(radius=5cm, thickness=1cm);
 147:   // call with initializer
 148:   Wheel(diameter=10cm, thickness=1cm);

-- No Output --
-- No Errors --
-- Model --
  Group (root) ->
    Workpiece(sketch) init_property::Wheel(radius=50mm, thickness=10mm) ->
      - radius = 50mm
      - thickness = 10mm
      Operation subtract() ->
        Group ->
          Workpiece(sketch) std::geo2d::Circle(center=(x=0mm, y=0mm), radius=50mm) ->
            - center = (x=0mm, y=0mm)
            - radius = 50mm
            Transform __builtin::ops::translate(x=0mm, y=0mm, z=0mm) ->
              Primitive2D __builtin::geo2d::Circle(radius=50mm) ->
          Workpiece(sketch) std::geo2d::Circle(center=(x=0mm, y=0mm), radius=40mm) ->
            - center = (x=0mm, y=0mm)
            - radius = 40mm
            Transform __builtin::ops::translate(x=0mm, y=0mm, z=0mm) ->
              Primitive2D __builtin::geo2d::Circle(radius=40mm) ->
    Workpiece(sketch) init_property::Wheel(diameter=100mm, thickness=10mm) ->
      - radius = 50mm
      - thickness = 10mm
      Operation subtract() ->
        Group ->
          Workpiece(sketch) std::geo2d::Circle(center=(x=0mm, y=0mm), radius=50mm) ->
            - center = (x=0mm, y=0mm)
            - radius = 50mm
            Transform __builtin::ops::translate(x=0mm, y=0mm, z=0mm) ->
              Primitive2D __builtin::geo2d::Circle(radius=50mm) ->
          Workpiece(sketch) std::geo2d::Circle(center=(x=0mm, y=0mm), radius=40mm) ->
            - center = (x=0mm, y=0mm)
            - radius = 40mm
            Transform __builtin::ops::translate(x=0mm, y=0mm, z=0mm) ->
              Primitive2D __builtin::geo2d::Circle(radius=40mm) ->

Export of "../books/language/src/structure/workbenches/.test/init_property-out.svg" successful.
-- Test Result --
OK
