-- Test --
        Test name: pre_init_code
  Expected result: ok
      Source file: ../books/language/src/structure/workbenches/README.md:162
        Test path: ../books/language/src/structure/workbenches/.test
      Banner file: ../books/language/src/structure/workbenches/.test/pre_init_code.svg
         Log file: ../books/language/src/structure/workbenches/.test/pre_init_code.log
 Output file stem: ../books/language/src/structure/workbenches/.test/pre_init_code-out

-- Code --

 162:   sketch Wheel(radius: Length) {
 163:       // init code
 164:       const FACTOR = 2.0;
 165:   
 166:       // initializer
 167:       init(diameter: Length) { into_radius(radius); }
 168:   
 169:       // function
 170:       fn into_radius( diameter: Length ) {
 171:           // use constant FACTOR from init code
 172:           return diameter / FACTOR;
 173:       }
 174:   
 175:       // set property diameter and use FACTOR from init code
 176:       prop diameter = radius * FACTOR;
 177:       
 178:       // code body
 179:       std::geo2d::Circle(radius);
 180:   }
 181:   
 182:   __builtin::debug::assert(Wheel(5cm).radius == 5cm);
 183:   __builtin::debug::assert(Wheel(5cm).diameter == 10cm);

-- No Output --
-- Errors --
warning: Unused global symbol into_radius.
  ---> ../books/language/src/structure/workbenches/README.md:170:5
     |
 170 |     fn into_radius( diameter: Length ) {
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
Unexpected warnings(s) which did occur in line(s): 170
-- No Model --
-- Test Result --
OK
