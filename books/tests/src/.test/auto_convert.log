
-- Test --
        Test name: auto_convert
  Expected result: fail
      Source file: ../books/tests/src/auto_convert.md:6
        Test path: ../books/tests/src/.test

-- Code --

   6:   fn f( x: Scalar ) { _ = x; }
   7:   f(x=1);
   8:   f(x=[1]);
   9:   f(x="");    // error
  10:   f("");      // error
  11:   f(1.0);
  12:   f(1);
  13:   f([1.0]);
  14:   f([1]);
  15:   
  16:   fn g( x: Integer ) { _ = x; }
  17:   g(x=1.0);   // error
  18:   g(x="");    // error
  19:   g("");      // error
  20:   g(1.0);     // error
  21:   g([1.0]);   // error
  22:   g(1);
  23:   g([1]);
  24:   
  25:   fn h( x: String ) { _ = x; }
  26:   h(x=1.0);   // error
  27:   h(x="");
  28:   h(x=[""]);
  29:   h("");
  30:   h([""]);
  31:   h(1.0);     // error
  32:   h([1.0]);   // error

-- No Output --
-- Errors --
  × error: 4:3: Arguments match by identifier but have incompatible types: x: String != Scalar
    ╭─[../books/tests/src/auto_convert.md:9:3]
  8 │ f(x=[1]);
  9 │ f(x="");    // error
    ·   ──┬─
    ·     ╰── error: 4:3: Arguments match by identifier but have incompatible types: x: String != Scalar
 10 │ f("");      // error
    ╰────
  × error: 5:4: Missing arguments: x
    ╭─[../books/tests/src/auto_convert.md:10:4]
  9 │ f(x="");    // error
 10 │ f("");      // error
    ·    ┬
    ·    ╰── error: 5:4: Missing arguments: x
 11 │ f(1.0);
    ╰────
  × error: 12:3: Arguments match by identifier but have incompatible types: x: Scalar != Integer
    ╭─[../books/tests/src/auto_convert.md:17:3]
 16 │ fn g( x: Integer ) { _ = x; }
 17 │ g(x=1.0);   // error
    ·   ──┬──
    ·     ╰── error: 12:3: Arguments match by identifier but have incompatible types: x: Scalar != Integer
 18 │ g(x="");    // error
    ╰────
  × error: 13:3: Arguments match by identifier but have incompatible types: x: String != Integer
    ╭─[../books/tests/src/auto_convert.md:18:3]
 17 │ g(x=1.0);   // error
 18 │ g(x="");    // error
    ·   ──┬─
    ·     ╰── error: 13:3: Arguments match by identifier but have incompatible types: x: String != Integer
 19 │ g("");      // error
    ╰────
  × error: 14:4: Missing arguments: x
    ╭─[../books/tests/src/auto_convert.md:19:4]
 18 │ g(x="");    // error
 19 │ g("");      // error
    ·    ┬
    ·    ╰── error: 14:4: Missing arguments: x
 20 │ g(1.0);     // error
    ╰────
  × error: 15:3: Missing arguments: x
    ╭─[../books/tests/src/auto_convert.md:20:3]
 19 │ g("");      // error
 20 │ g(1.0);     // error
    ·   ─┬─
    ·    ╰── error: 15:3: Missing arguments: x
 21 │ g([1.0]);   // error
    ╰────
  × error: 16:3: Missing arguments: x
    ╭─[../books/tests/src/auto_convert.md:21:3]
 20 │ g(1.0);     // error
 21 │ g([1.0]);   // error
    ·   ──┬──
    ·     ╰── error: 16:3: Missing arguments: x
 22 │ g(1);
    ╰────
  × error: 21:3: Arguments match by identifier but have incompatible types: x: Scalar != String
    ╭─[../books/tests/src/auto_convert.md:26:3]
 25 │ fn h( x: String ) { _ = x; }
 26 │ h(x=1.0);   // error
    ·   ──┬──
    ·     ╰── error: 21:3: Arguments match by identifier but have incompatible types: x: Scalar != String
 27 │ h(x="");
    ╰────
  × error: 26:3: Missing arguments: x
    ╭─[../books/tests/src/auto_convert.md:31:3]
 30 │ h([""]);
 31 │ h(1.0);     // error
    ·   ─┬─
    ·    ╰── error: 26:3: Missing arguments: x
 32 │ h([1.0]);   // error
    ╰────
  × error: 27:3: Missing arguments: x
    ╭─[../books/tests/src/auto_convert.md:32:3]
 31 │ h(1.0);     // error
 32 │ h([1.0]);   // error
    ·   ──┬──
    ·     ╰── error: 27:3: Missing arguments: x
    ╰────
-- Test Result --
FAILS AS EXPECTED
